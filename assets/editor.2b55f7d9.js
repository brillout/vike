import"./modulepreload-polyfill.b7f2da20.js";import{H as B,j as C}from"./Hammer.b32cbff6.js";T();function I(){return{colorPicker:document.getElementById("colorPicker"),handleDiameterPicker:document.getElementById("handleDiameterPicker"),handleLengthPicker:document.getElementById("handleLengthPicker"),zdogView:document.getElementById("zdogView"),faviconSize:document.getElementById("faviconSize"),autoSpinning:document.getElementById("autoSpinning"),resetBtn:document.querySelector("button"),hideBackLightningBolt:document.getElementById("hideBackLightningBolt"),perspectiveX:document.getElementById("perspective-x"),perspectiveY:document.getElementById("perspective-y"),perspectiveZ:document.getElementById("perspective-z")}}function T(){const e=I(),t=new B(document.querySelector("#logo"));t.dragRotate=!0,D(t),V(e.zdogView),N(e.colorPicker,t),E(t,e.handleDiameterPicker,"handleDiameter"),E(t,e.handleLengthPicker,"handleLength"),P(e.faviconSize),_(e.autoSpinning),A(e.resetBtn),H(e.hideBackLightningBolt,t),L(t,e),x(t),t.init()}function L(e,{perspectiveX:t,perspectiveY:n,perspectiveZ:l}){[{elem:t,axis:"x"},{elem:n,axis:"y"},{elem:l,axis:"z"}].forEach(({elem:r,axis:o})=>{const i=w({elem:r,labelText:`<code>${o}</code>`,getValue(){return e.perspective.rotate[o]},setValue(s){e.perspective.rotate[o]=s},hammer:e});g||(g=[]),g.push(s=>{i(s.rotate[o])})})}function E(e,t,n){w({elem:t,labelText:`<code>${n}</code>`,getValue(){return e[n]},setValue(l){e[n]=l},hammer:e})}function w({elem:e,labelText:t,getValue:n,setValue:l,hammer:r}){const o=e.id;{const u=S(h(o));u&&l(u)}e.innerHTML="";const i=document.createElement("div");e.appendChild(i);const s=document.createElement("label");i.appendChild(s);const c=document.createElement("input");c.setAttribute("type","number"),c.setAttribute("step","0.1"),c.style.width="40px",c.style.padding="4px",s.appendChild(c);const d=document.createElement("span");d.innerHTML=" "+t,i.appendChild(d);const a=()=>{const u=n();c.value=String(u)};return a(),c.oninput=u=>{const b=u.target.value,k=S(b);l(k),a(),r.reset(),m(o,b)},u=>{c.value=String(u)}}function V(e){f({elem:e,labelText:"Icon view",onToggle(t){document.body.classList[t?"remove":"add"]("zdogView")}})}function P(e){f({elem:e,labelText:"Favicon size",onToggle(t){document.body.classList[t?"add":"remove"]("faviconSize")}})}function _(e){f({elem:e,labelText:"Auto spinning",onToggle(t){v=t}})}function H(e,t){f({elem:e,labelText:"Hide back lightning bolt",onToggle(n){t.hideBackLightningBolt=n},applyValue(){t.reset()}})}function f({elem:e,labelText:t,onToggle:n,applyValue:l}){e.innerHTML="";const r=document.createElement("label");e.appendChild(r);const o=document.createElement("input");o.setAttribute("type","checkbox"),r.appendChild(o),r.appendChild(document.createTextNode(t));const{id:i}=e;M(i);const s=()=>{var a,p;return(p=JSON.parse((a=h(i))!=null?a:'"{}"').isChecked)!=null?p:!1},c=()=>{let a=s();a=!a,m(i,JSON.stringify({isChecked:a}))},d=a=>{const p=s();n(p),o.checked=p,a||l==null||l(p)};o.oninput=a=>{a.preventDefault(),c(),d()},d(!0)}function A(e){e.onclick=()=>{v=!1,$(),window.navigation.reload()}}function N(e,t){e.innerHTML="",F(t.colors).forEach(n=>{{const c=h(n);c&&(t.colors[n]=c)}const l=document.createElement("div");e.appendChild(l);const r=document.createElement("label");l.appendChild(r);const o=document.createElement("input");o.setAttribute("type","color"),r.appendChild(o);const i=document.createElement("span");l.appendChild(i);const s=()=>{const c=t.colors[n];o.value=c,i.innerHTML=` ${c} <code>${n}</code>`};s(),o.oninput=c=>{const d=c.target.value;t.colors[n]=d,s(),t.reset(),m(n,d)}})}var v,g;function x(e){e.onDragStart=()=>{v=!1},e.onDragEnd=()=>{y(e)},v&&(e.perspective.rotate.y+=.03,e.updatePerspective(),y(e)),requestAnimationFrame(()=>{e.update(),O(e),x(e)})}function y(e){if(!e.illo)return;const t={rotate:e.illo.rotate,translate:e.illo.translate};e.perspective=t,m("perspective",JSON.stringify(t))}function D(e){const t=h("perspective");if(t){const n=JSON.parse(t);e.perspective=n}}var z;function O(e){if(!e.illo)return;let{x:t,y:n,z:l}=e.illo.rotate;const r=i=>(i=i*16/C.exports.TAU,i=Math.floor(i*100)/100,i);t=r(t),n=r(n),l=r(l);const o=JSON.stringify({x:t,y:n,z:l},null,2);z!==o&&(z=o,g.forEach(i=>i(e.perspective)))}function M(e){if(!e)throw new Error("Assertion failed.")}function h(e){var t;return(t=window.localStorage[`__vike_logo__input_${e}`])!=null?t:null}function m(e,t){window.localStorage[`__vike_logo__input_${e}`]=t}function $(){window.localStorage.clear()}function S(e){return e===null?null:parseFloat(e)}function F(e){return Object.keys(e)}
